(this.webpackJsonppbox=this.webpackJsonppbox||[]).push([[0],{60:function(e,n,t){},61:function(e,n,t){},81:function(e,n,t){},85:function(e,n,t){"use strict";t.r(n);var a=t(0),c=t.n(a),i=t(24),s=t.n(i),r=(t(60),t(33)),o=t(32),u=t(20),l=(t(61),t(42)),m=t.n(l),j=t(89),d=t(55),g=(t(80),t(81),t(5)),b=c.a.lazy((function(){return t.e(3).then(t.bind(null,91))})),h=c.a.memo((function(e){var n=Object(a.useState)(!1),t=Object(u.a)(n,2),i=t[0],s=t[1];return Object(g.jsxs)(c.a.Fragment,{children:[Object(g.jsxs)("div",{onClick:function(){s(!0)},className:"list",children:[Object(g.jsxs)("div",{className:"info",children:[Object(g.jsx)("img",{className:"image",src:e.image}),Object(g.jsx)("h3",{children:e.name})]}),Object(g.jsxs)("div",{className:"info2",children:[Object(g.jsx)("span",{className:"dot"}),Object(g.jsxs)("h3",{children:[e.status,"-"]}),Object(g.jsx)("h3",{children:e.species})]})]}),i?Object(g.jsx)(a.Suspense,{fallback:Object(g.jsx)("div",{children:"Loading..."}),children:Object(g.jsx)(b,{location:e.location,image:e.image,name:e.name,status:e.status,species:e.species,origin:e.origin,gender:e.gender,show:i,handleClose:function(){s(!1)}})}):null]})})),p=[{className:"list",image:"https://rickandmortyapi.com/api/character/avatar/180.jpeg",name:"Jessica",status:"Alive",species:"Cronenberg",origin:{name:"Earth (C-137)"},gender:"Female",location:{name:"Earth (C-137)"}},{className:"list",image:"https://rickandmortyapi.com/api/character/avatar/380.jpeg",name:"Weird Rick",status:"Unknown",species:"Human",origin:{name:"unknown"},gender:"Male",location:{name:"unknown"}},{className:"list",image:"https://rickandmortyapi.com/api/character/avatar/608.jpeg",name:"Jesus Christ",status:"Alive",species:"Human",origin:{name:"Ricks\u2019s Story"},gender:"Male",location:{name:"Ricks\u2019s Story"}},{className:"list",image:"https://rickandmortyapi.com/api/character/avatar/664.jpeg",name:"Ticktock",status:"Unknown",species:"Humanoid",origin:{name:"Gaia"},gender:"Genderless",location:{name:"Gaia"}}];var O=function(){var e=Object(a.useRef)(!1),n=Object(a.useRef)(),t=Object(a.useRef)(),c=Object(a.useState)(""),i=Object(u.a)(c,2),s=i[0],l=i[1],b=Object(a.useState)(p),O=Object(u.a)(b,2),f=O[0],x=O[1],v=Object(a.useState)({curr:1,maxpage:null}),k=Object(u.a)(v,2),N=k[0],S=k[1],y=Object(a.useState)({condition:!1,msg:"Loading"}),C=Object(u.a)(y,2),w=C[0],R=C[1],E=function(e,n,t){R({condition:!0,msg:"Loading"}),m.a.get("https://rickandmortyapi.com/api/character/?name=".concat(e,"&page=").concat(n)).then((function(e){return e.data})).then((function(e){t?(x([].concat(Object(o.a)(f),Object(o.a)(e.results))),S((function(e){return Object(r.a)(Object(r.a)({},e),{},{curr:n})}))):(x(e.results),S((function(n){return{curr:1,maxpage:e.info.pages+1}})),R({condition:!1,msg:"Loading"}))})).catch((function(e){}))};Object(a.useEffect)((function(){if(e.current){if(s){var n=setTimeout((function(){E(s,1,0)}),500);return function(){clearTimeout(n)}}x(p)}else e.current=!0}),[s]),Object(a.useEffect)((function(){var e={root:t.current,rootMargin:"0px",threshold:1},a=new IntersectionObserver((function(e,n){if(e[0].isIntersecting){var t=N.curr+1;t<N.maxpage&&s?E(s,t,1):R({condition:!1,msg:"End of Results"})}}),e);return a.observe(n.current),function(){return a.unobserve(n.current)}}),[f,N]);var F=f.map((function(e,n){return Object(g.jsx)(h,{image:e.image,name:e.name,status:e.status,species:e.species,origin:e.origin.name,gender:e.gender,location:e.location.name},n)}));return Object(g.jsx)("div",{className:"App",children:Object(g.jsxs)("div",{className:"wrapper",children:[Object(g.jsx)("div",{className:"heading",children:Object(g.jsx)("h1",{children:"Rick and Morty Search"})}),Object(g.jsx)("div",{className:"search",children:Object(g.jsx)(j.a,{onChange:function(e){return l(e.target.value)},size:"large",placeholder:"Search here",prefix:Object(g.jsx)(d.a,{})})}),Object(g.jsxs)("div",{ref:t,className:"listings",children:[F,Object(g.jsx)("div",{ref:n,children:Object(g.jsxs)("span",{children:[w.msg,"..."]})})]})]})})},f=function(e){e&&e instanceof Function&&t.e(4).then(t.bind(null,92)).then((function(n){var t=n.getCLS,a=n.getFID,c=n.getFCP,i=n.getLCP,s=n.getTTFB;t(e),a(e),c(e),i(e),s(e)}))};s.a.render(Object(g.jsx)(c.a.StrictMode,{children:Object(g.jsx)(O,{})}),document.getElementById("root")),f()}},[[85,1,2]]]);
//# sourceMappingURL=main.2cea38dc.chunk.js.map